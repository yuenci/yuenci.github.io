{"posts":[{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2022/12/01/hello-world/"},{"title":"About","text":"Hi ðŸ‘‹, I'm yuenci A passionate full stack developer from China ðŸ‘‹ Introduction: ðŸ”­ Iâ€™m currently working on A note-taking software ðŸŒ± Iâ€™m currently learning Algorithms ðŸ‘¨â€ðŸ’» All of my projects are to [make the world a better and better.](make the world a better and better.) ðŸ“ I regularly write articles on https://www.enjoycoding.me/ ðŸ’¬ Ask me about Anything you want to know ðŸ“« How to reach me yuenci1575270674@gmail.com âš¡ Fun fact I often forget to sleep because I am in programming!! ðŸ“« Connect with me: âš¡ Languages and Tools: â¤ï¸ Support:","link":"/2022/12/02/about/"},{"title":"Deployed a full-stack appliaction","text":"å‡†å¤‡ é¦–å…ˆè´­ä¹°æœåŠ¡å™¨ ç„¶åŽSSH ç™»å½•æœåŠ¡å™¨ æˆ–è€… ä½¿ç”¨åœ¨çº¿terminalç­‰æ–¹å¼è¿žæŽ¥æœåŠ¡å™¨ å®‰è£…å®å¡”é¢æ¿å¹¶å¼€æ”¾ç«¯å£ 1wget -O install.sh http://download.bt.cn/install/install-ubuntu_6.0.sh &amp;&amp; sudo bash install.sh ed8484bec å®‰è£…Nginx å®‰è£…Docker 123456789101112131415sudo apt update#æ›´æ–°ç´¢å¼•sudo apt install apt-transport-https ca-certificates curl gnupg-agent software-properties-common#å®‰è£…ä¾èµ–curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -#æ·»åŠ æºä»“åº“sudo apt updatesudo apt install docker-ce docker-ce-cli containerd.io#å®‰è£…æœ€æ–°ç‰ˆæœ¬#æŸ¥çœ‹dockerçŠ¶æ€ï¼ˆæ­£å¸¸çŠ¶æ€å¦‚ä¸‹å›¾ï¼‰sudo systemctl status docker é™æ€èµ„æºéƒ¨åˆ† é…ç½®DNSè§£æž å› ä¸ºæ›´æ¢äº†æœåŠ¡å™¨ï¼Œ æ‰€ä»¥éœ€è¦æ›´æ”¹åŸŸåå¯¹åº”çš„IP è®¾ç½® Cloudflareè®¾ç½®ä¸º å¼€å‘æ¨¡å¼ å¼€å‘è€…æ¨¡å¼ä¸ä¼šè®©ç”¨æˆ·èµ°ç¼“å­˜èŽ·å¾—é™æ€æ–‡ä»¶ï¼Œè€Œæ˜¯ç›´æŽ¥åŽ»æºæœåŠ¡å™¨èŽ·å–ï¼Œè¿™æ ·ç”¨æˆ·å¯ä»¥ç¬¬ä¸€æ—¶é—´èŽ·å¾—æœ€æ–°çš„æ›´æ–° æŠŠé™æ€æ–‡ä»¶æ”¾åˆ°wwwrootç›®å½•ä¸‹ é…ç½®Nginx é¦–å…ˆéœ€è¦é…ç½®SSL è¯ä¹¦ä»¥æ”¯æŒHttpï¼Œå…¶æ¬¡æ˜¯é…ç½® /code ,è½¬å‘è¯·æ±‚åˆ°84ç«¯å£ï¼Œ84ç«¯å£å®šä¹‰äº†å°†åˆ†å‘å“ªäº›é™æ€æ–‡ä»¶ 1234567891011121314151617181920212223server{ listen 443 ssl; server_name enjoyCoding.com; ssl on; ssl_certificate /usr/local/ssl/ssl_certificate.pem; ssl_certificate_key /usr/local/ssl/ssl_certificate_key.key; ssl_session_timeout 5m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; location /code/{ proxy_pass http://127.0.0.1:84/; }}server{ listen 84; root /www/wwwroot/What-does-this-code-mean; index index.html index.htm;} åŽç«¯éƒ¨åˆ† docker éƒ¨ç½² å› ä¸ºä¹‹å‰å·²ç»æŠŠé•œåƒä¸Šä¼ åˆ°äº†docker hub(wtcm)ï¼Œæ‰€ä»¥æ— éœ€é‡æ–°åˆ¶ä½œé•œåƒï¼Œç›´æŽ¥è¿è¡Œ 1$ docker run innis/wtcm:1.0 -p 83:83 ä¸è¿‡å› ä¸ºè¯¥é•œåƒçš„APIå·²ç»è¿‡æœŸï¼Œæ‰€ä»¥éœ€è¦æŠŠé•œåƒä¸­çš„æ–‡ä»¶æ‹·è´å‡ºæ¥é‡æ–°åˆ¶ä½œé•œåƒ 12$docker cp 266f4:/root/feedback_venv/feedback_venv.zip /Users/Downloads/# docker cp [container_created:path] [dest_path] é•œåƒæž„å»ºæ–‡ä»¶ï¼š 1234567891011121314151617FROM python:3.8MAINTAINER Innis&lt;yuenci1575270674@gmail.com&gt;WORKDIR /appRUN pip install flask &amp;&amp; \\ pip install flask_cors &amp;&amp; \\ pip install openai &amp;&amp; \\ pip install gunicorn &amp;&amp; \\ pip install geventCOPY . /appEXPOSE 83# CMD [&quot;python&quot;, &quot;main.py&quot;]ENTRYPOINT [&quot;gunicorn&quot; ,&quot;--config&quot;, &quot;gunicorn.py&quot;, &quot;main:app&quot;] ä¿®æ”¹å®ŒAPI Keyçš„é…ç½®è¿è¡Œ 1$sudo docker build -t wtcm:1.0 . è¿è¡Œæ–°é•œåƒ 1$sudo docker run -it -p 83:83 wtcm:1.0 Nginx è®¾ç½® Flask è·¯ç”±è®¾ç½® 1@app.route('/response', methods=[&quot;POST&quot;]) fetch è®¾ç½® 12345678910111213url = 'https://enjoycoding.me/api/response' fetch(url, options) .then(data =&gt; { if (!data.ok) { throw Error(data.status); } return data.json(); }).then(update =&gt; { //console.log(update); }).catch(e =&gt; { console.log(e); }); Nginx è®¾ç½® 123location /api/{ proxy_pass http://0.0.0.0:83/; } CI/CD éƒ¨åˆ†è¿è¡Œroot ç™»å½• æ­¥éª¤ æ–¹æ³• ä¿®æ”¹ root å¯†ç  æ‰§è¡Œå‘½ä»¤sudo passwd root è¾“å…¥å¯†ç  å¯ä»¥å’Œ ubuntu å¯†ç ä¸€è‡´ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹ (å¯†ç ä¼šè®©ä½ è¾“å…¥ä¸¤æ¬¡) ä¿®æ”¹ ssh é…ç½® æ‰§è¡Œå‘½ä»¤sudo vi /etc/ssh/sshd_config ä¿® æ”¹ PermitRootLogin è¿›å…¥ ssh é…ç½®ç•Œé¢åŽæ‰¾åˆ°PermitRootLoginï¼Œå°†å®ƒåŽé¢æ”¹ä¸ºyesï¼Œä¿å­˜ (æŒ‰iè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œç¼–è¾‘å®Œescé€€å‡ºï¼Œ:wä¿å­˜å½“å‰æ–‡ä»¶ï¼Œ:qé€€å‡º) é‡å¯ ssh æœåŠ¡ æ‰§è¡Œå‘½ä»¤ sudo service ssh restart è®¾ç½®Github actions workflows file 123456789101112131415161718name: scp fileson: [push]jobs: build: name: Build runs-on: ubuntu-latest steps: - uses: actions/checkout@master - name: copy file via ssh password uses: appleboy/scp-action@master with: host: ${{ secrets.HOST }} username: ${{ secrets.USERNAME }} password: ${{ secrets.PASSWORD }} port: 22 source: &quot;./&quot; target: /www/wwwroot/What-does-this-code-mean/ æœ€åŽå…³é—­Cloudflareçš„å¼€å‘æ¨¡å¼","link":"/2022/12/25/deployed-a-full-stack-appliaction/"}],"tags":[{"name":"tag1","slug":"tag1","link":"/tags/tag1/"},{"name":"Cloud Server","slug":"Cloud-Server","link":"/tags/Cloud-Server/"},{"name":"Ubuntu","slug":"Ubuntu","link":"/tags/Ubuntu/"},{"name":"Nginx","slug":"Nginx","link":"/tags/Nginx/"},{"name":"Docker","slug":"Docker","link":"/tags/Docker/"},{"name":"DNS","slug":"DNS","link":"/tags/DNS/"},{"name":"Cloudflare","slug":"Cloudflare","link":"/tags/Cloudflare/"},{"name":"CI&#x2F;CD","slug":"CI-CD","link":"/tags/CI-CD/"},{"name":"Github Actions","slug":"Github-Actions","link":"/tags/Github-Actions/"}],"categories":[],"pages":[{"title":"About","text":"Hi ðŸ‘‹, I'm yuenci A passionate full stack developer from China ðŸ‘‹ Introduction: ðŸ”­ Iâ€™m currently working on A note-taking software ðŸŒ± Iâ€™m currently learning Algorithms ðŸ‘¨â€ðŸ’» All of my projects are to [make the world a better and better.](make the world a better and better.) ðŸ“ I regularly write articles on https://www.enjoycoding.me/ ðŸ’¬ Ask me about Anything you want to know ðŸ“« How to reach me yuenci1575270674@gmail.com âš¡ Fun fact I often forget to sleep because I am in programming!! ðŸ“« Connect with me: âš¡ Languages and Tools: â¤ï¸ Support:","link":"/about/index.html"},{"title":"","text":"import { initializeApp } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js\"; import { getFirestore, addDoc, collection } from \"https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js\"; const firebaseConfig = { apiKey: \"AIzaSyAfr-AXKIqrQovmlEvH31V1LeOuT4c7QNc\", authDomain: \"nftarts-32191.firebaseapp.com\", projectId: \"nftarts-32191\", storageBucket: \"nftarts-32191.appspot.com\", messagingSenderId: \"865252345043\", appId: \"1:865252345043:web:227e3ff1b632df85328026\", measurementId: \"G-BPLH0BTZ4Z\" }; // Initialize Firebase const app = initializeApp(firebaseConfig); const db = getFirestore(app); export async function writeToDB(data) { let currentAdmin = localStorage.getItem(\"admin\") if (!currentAdmin) currentAdmin = \"Innis\" try { const docRef = await addDoc(collection(db, \"images\"), { ...data, }); console.log(\"Document written with ID: \", docRef.id); } catch (e) { console.error(\"Error adding document: \", e); } } export async function readFromDB() { const querySnapshot = await getDocs(collection(db, \"images\")); querySnapshot.forEach((doc) => { console.log(`${doc.id} => ${doc.data()}`); }); } export async function deleteFromDB(id) { await deleteDoc(doc(db, \"images\", id)); } export async function updateDB(id, data) { await updateDoc(doc(db, \"images\", id), data); }","link":"/tutorial/2022-12-30/FB_DB.js"},{"title":"","text":"Import JS çš„æ¨¡å—åŒ– Hello world","link":"/tutorial/2022-12-30/index.html"},{"title":"","text":"/* Submit */ import { writeToDB } from \"./FB_DB.js\"; $(\"#btn\").click(function () { var name = $(\"input[placeholder='name']\").val(); var age = $(\"input[placeholder='age']\").val(); var gender = $(\"input[placeholder='gender']\").val(); var data = { name: name, age: age, gender: gender } console.log(data); writeToDB(data); })","link":"/tutorial/2022-12-30/from.js"},{"title":"","text":"export let div = document.getElementById('id1');","link":"/tutorial/2022-12-30/js1.js"},{"title":"","text":"Form To DB input { display: block; margin: 10px; } Submit","link":"/tutorial/2022-12-30/form.html"},{"title":"","text":"export function getTime() { return Date.now().toLocaleString(); }","link":"/tutorial/2022-12-30/js3.js"},{"title":"","text":"import { getTime } from './js3.js'; import { div } from './js1.js'; div.innerHTML = getTime();","link":"/tutorial/2022-12-30/js2.js"},{"title":"","text":"/*! jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license */ !function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m=\"1.12.4\",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:\"\",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:\"jQuery\"+(m+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===n.type(a)},isArray:Array.isArray||function(a){return\"array\"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||\"object\"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!k.call(a,\"constructor\")&&!k.call(a.constructor.prototype,\"isPrototypeOf\"))return!1}catch(c){return!1}if(!l.ownFirst)for(b in a)return k.call(a,b);for(b in a);return void 0===b||k.call(a,b)},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?i[j.call(a)]||\"object\":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,\"ms-\").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?\"\":(a+\"\").replace(o,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,\"string\"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(h)return h.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return\"string\"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=e.call(arguments,2),d=function(){return a.apply(b||this,c.concat(e.call(arguments)))},d.guid=a.guid=a.guid||n.guid++,d):void 0},now:function(){return+new Date},support:l}),\"function\"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each(\"Boolean Number String Function Array Date RegExp Object Error Symbol\".split(\" \"),function(a,b){i[\"[object \"+b+\"]\"]=b.toLowerCase()});function s(a){var b=!!a&&\"length\"in a&&a.length,c=n.type(a);return\"function\"===c||n.isWindow(a)?!1:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=\"sizzle\"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1","link":"/tutorial/2022-12-30/jquery-1.12.4.min.js"}]}